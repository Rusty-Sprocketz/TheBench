# v2.8.2 — Fix Permanent 404 on Demo App API Endpoints

## Problem
Demo apps deployed via the pipeline frequently had permanently broken `/api/generate` endpoints (404 Not Found), even though the code was correct and all tests passed (including contract tests).

**Root cause**: The Builder LLM sometimes generates `vercel.json` using the legacy `routes` format instead of the modern `rewrites` format. With legacy `routes`, a catch-all rule can prevent Vercel from recognizing `api/generate.js` as a serverless function, causing permanent 404s on the API endpoint.

## Fix

### Deployer: Override vercel.json with known-good config
Since the `vercel.json` is always the same for these simple apps (SPA with one API route), the deployer now overrides whatever the Builder generated with a verified config that uses `rewrites` with a negative lookahead to exclude `/api/` paths:
```json
{ "rewrites": [{ "source": "/((?!api/).*)", "destination": "/index.html" }] }
```

### Contract test: Flag legacy routes format
Added a new contract test that flags `vercel.json` files using the legacy `routes` format, giving the fixer specific guidance to switch to `rewrites`.

## Files Modified
- `api/pipeline.js` — Override vercel.json in deployer, new contract test for routes vs rewrites
- `client/src/App.jsx` — Version bump
- `package.json` — Version bump
