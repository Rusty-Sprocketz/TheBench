# v2.2.0 — Test-Fix Loop, Estimated Times, URL Check Button

**Released:** 2026-02-13

## What's New

### Test-Fix Loop
The pipeline now includes a **Bug Fixer** stage between Tester and Deployer. If the Tester finds failing tests, the code is automatically sent back to the Builder (Claude) for a fix pass, then re-tested before deployment. This prevents broken apps from being deployed.

- New `fixer` backend action — receives failing test details and the current files, fixes only the broken code
- Pipeline flow: Builder → Reviewer → Tester → (if failures) Fixer → Re-test → Deploy
- If all tests pass, the Fixer stage is skipped automatically
- Fixer stage shows as "SKIPPED" when not needed, or shows how many files were fixed

### Enhanced Tester
The Tester prompt has been significantly upgraded to catch real bugs:
- **Logic tests**: Traces through code to verify API fetch URLs match backend endpoints, response field names match between frontend/backend, Gemini API usage is correct, and computation logic works
- **Detailed failure descriptions**: Each failing test now describes the exact bug location and what needs to change
- Tests now cover: structure, API, security, accessibility, theme, routing, AND logic

### Estimated Stage Times
Each running stage now shows an estimated duration so users know what to expect:
- Architect: ~10s
- Builder: ~1-2 min
- Reviewer: ~15s
- Tester: ~15s
- Bug Fixer: ~1-2 min
- Deploy: ~30s

### Manual URL Check Button
The target URL section now has a "Check" button instead of auto-checking. Users can click it at any time during the pipeline to verify the URL still returns 404 (before deploy) or 200 (after deploy).

## Modified Files
- `api/pipeline.js` — enhanced Tester prompt, new Fixer action
- `client/src/hooks/usePipeline.js` — test-fix loop, fixer stage
- `client/src/components/PipelineDemo.jsx` — manual check button
- `client/src/components/PipelineDemo.css` — check button styles
- `client/src/components/PipelineStage.jsx` — estimated times, fixer stage display
- `client/src/utils/pipelineApi.js` — new runFixer API call
